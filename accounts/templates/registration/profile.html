{% extends 'main/base.html' %}
{% load static %}

{% block title %}Profile for {{ username }} | MythMakers{% endblock %}

{% block content %}

<section class="container-fluid">
    <div class="row">
        <div class="col-md-12 header-container">
            {% if user.mythmaker.profile_header == '' %}
            <img class="img fluid profile-header" src="{% static 'images/default-header.png' %}">
            {% else %}
            <img class="img-fluid profile-header" src="{{ user.mythmaker.profile_header.url }}">
            {% endif %}
        </div>
    </div>
</section>

<section class="container-fluid">
    <div class="row">
        <div class="col-xs-12 offset-md-1 col-md-2 user-details">
            {% if user.mythmaker.profile_image == '' %}
            <img class="img-fluid" src="{% static 'images/default-profile.png' %}">
            {% else %}
            <img class="img-fluid" src="{{ user.mythmaker.profile_image.url }}">
            {% endif %}
            <h3>{{ username }}</h3>
            <p>{{ user_membership.membership.get_membership_type_display }} Member</p>
            <p><em>{{ user.mythmaker.tagline }}</em></p>
            <p>Joined {{ user.date_joined }}</p>
            <p><strong>Bio</strong><br/>{{ user.mythmaker.bio }}</p>

            <div>
                <a class="btn btn-outline-success btn-lg" href="{% url 'edit' %}" role="button">Edit Profile</a>
            </div>
        </div>

        <div class="col-xs-12 col-md-8 activity-pane">
            <h3>Activity</h3>
            <hr>
        </div>
    </div>
</section>

<section class="container-fluid dark-section text-center">
    <!-- If user has a Premium membership -->
    {% if user_membership.membership.pk == 2 %}
    <div class="row text-center">
        <div class="col-xs-12 offset-md-1 col-md-10 upgrade-div">
            <h4>Your Premium Membership</h4>
            <p>You are a Premium MythMaker</p>
            <a class="btn btn-outline-success btn-lg" href="{% url 'confirm_cancel' %}" role="button">Cancel Subscription</a>
        </div>
    </div>
    <!-- If user is not yet a Premium member -->
    {% else %}
    <div class="row">
        <div class="col-xs-12 offset-md-1 col-md-10 upgrade-div">
            <h4>Upgrade to Premium</h4>
            <p>There's a world of new storytelling opportunities waiting for you. All you need to do is become a Premium MythMaker for just Â£5 per month.</p>
            <a class="btn btn-outline-success btn-lg" href="{% url 'benefits' %}" role="button">Upgrade Now</a>
        </div>
    </div>
    {% endif %}
</section>

{% endblock %}